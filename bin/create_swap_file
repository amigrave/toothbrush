#!/bin/bash
SIZE=$1
: ${SIZE:="4"}
SWAPFILE="/media/swapfile"

if [ ! -f /media/swapfile ]; then
    sudo dd if=/dev/zero of=$SWAPFILE bs=1024M count=$SIZE
    sudo mkswap $SWAPFILE
    sudo swapon $SWAPFILE
    sudo sh -c 'echo "$SWAPFILE     none            swap    sw              0       0" >> /etc/fstab'
fi
